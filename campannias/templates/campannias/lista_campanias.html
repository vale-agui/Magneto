{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="text-center mb-8">
        <h1 class="text-3xl font-bold text-primary mb-2">Campañas Publicitarias</h1>
        <p class="text-gray-600">Visualiza tus campañas en diferentes redes sociales</p>
    </div>

    <!-- Campañas de Google Ads -->
    <div class="mb-12">
        <div class="mb-4">
            <h2 class="text-2xl font-semibold text-primary">Campañas de Google Ads</h2>
        </div>
        {% if campanias_google %}
        <div class="overflow-x-auto">
            <table class="min-w-full bg-white border border-gray-200">
                <thead>
                    <tr class="bg-gray-100">
                        <th class="px-6 py-3 border-b text-left">Nombre</th>
                        <th class="px-6 py-3 border-b text-left">Tipo</th>
                        <th class="px-6 py-3 border-b text-left">Presupuesto</th>
                        <th class="px-6 py-3 border-b text-left">Fecha Inicio</th>
                        <th class="px-6 py-3 border-b text-left">Fecha Fin</th>
                        <th class="px-6 py-3 border-b text-left">Estado</th>
                        <th class="px-6 py-3 border-b text-left">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    {% for campania in campanias_google %}
                    <tr class="hover:bg-gray-50">
                        <td class="px-6 py-4 border-b">{{ campania.nombre }}</td>
                        <td class="px-6 py-4 border-b">{{ campania.tipo_campana }}</td>
                        <td class="px-6 py-4 border-b">${{ campania.presupuesto_diario }}</td>
                        <td class="px-6 py-4 border-b">{{ campania.fecha_inicio|date:"d/m/Y" }}</td>
                        <td class="px-6 py-4 border-b">{{ campania.fecha_fin|date:"d/m/Y" }}</td>
                        <td class="px-6 py-4 border-b">
                            <span class="px-2 py-1 rounded text-sm
                                {% if campania.estado == 'ACTIVA' %}bg-green-100 text-green-800
                                {% elif campania.estado == 'PAUSADA' %}bg-yellow-100 text-yellow-800
                                {% else %}bg-red-100 text-red-800{% endif %}">
                                {{ campania.estado }}
                            </span>
                        </td>
                        <td class="px-6 py-4 border-b">
                            <a href="{% url 'campannias:editar_campana_google' campania.id %}" class="text-blue-600 hover:text-blue-800 mr-3">Editar</a>
                            <a href="{% url 'campannias:eliminar_campana_google' campania.id %}" class="text-red-600 hover:text-red-800" onclick="return confirm('¿Estás seguro de eliminar esta campaña?')">Eliminar</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        <div class="text-center py-8 bg-gray-50 rounded-lg">
            <p class="text-gray-600">No hay campañas de Google Ads creadas.</p>
        </div>
        {% endif %}
    </div>

    <!-- Campañas de Facebook -->
    <div class="mb-12">
        <div class="mb-4">
            <h2 class="text-2xl font-semibold text-primary">Campañas de Facebook</h2>
        </div>
        {% if campanias_facebook %}
        <div class="overflow-x-auto">
            <table class="min-w-full bg-white border border-gray-200">
                <thead>
                    <tr class="bg-gray-100">
                        <th class="px-6 py-3 border-b text-left">Nombre</th>
                        <th class="px-6 py-3 border-b text-left">Tipo</th>
                        <th class="px-6 py-3 border-b text-left">Presupuesto</th>
                        <th class="px-6 py-3 border-b text-left">Fecha Inicio</th>
                        <th class="px-6 py-3 border-b text-left">Fecha Fin</th>
                        <th class="px-6 py-3 border-b text-left">Estado</th>
                        <th class="px-6 py-3 border-b text-left">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    {% for campania in campanias_facebook %}
                    <tr class="hover:bg-gray-50">
                        <td class="px-6 py-4 border-b">{{ campania.nombre }}</td>
                        <td class="px-6 py-4 border-b">{{ campania.tipo_campana }}</td>
                        <td class="px-6 py-4 border-b">${{ campania.presupuesto_diario }}</td>
                        <td class="px-6 py-4 border-b">{{ campania.fecha_inicio|date:"d/m/Y" }}</td>
                        <td class="px-6 py-4 border-b">{{ campania.fecha_fin|date:"d/m/Y" }}</td>
                        <td class="px-6 py-4 border-b">
                            <span class="px-2 py-1 rounded text-sm
                                {% if campania.estado == 'ACTIVA' %}bg-green-100 text-green-800
                                {% elif campania.estado == 'PAUSADA' %}bg-yellow-100 text-yellow-800
                                {% else %}bg-red-100 text-red-800{% endif %}">
                                {{ campania.estado }}
                            </span>
                        </td>
                        <td class="px-6 py-4 border-b">
                            <a href="{% url 'campannias:editar_campana_facebook' campania.id %}" class="text-blue-600 hover:text-blue-800 mr-3">Editar</a>
                            <a href="{% url 'campannias:eliminar_campana_facebook' campania.id %}" class="text-red-600 hover:text-red-800" onclick="return confirm('¿Estás seguro de eliminar esta campaña?')">Eliminar</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        <div class="text-center py-8 bg-gray-50 rounded-lg">
            <p class="text-gray-600">No hay campañas de Facebook creadas.</p>
        </div>
        {% endif %}
    </div>

    <!-- Campañas de Instagram -->
    <div class="mb-12">
        <div class="mb-4">
            <h2 class="text-2xl font-semibold text-primary">Campañas de Instagram</h2>
        </div>
        {% if campanias_instagram %}
        <div class="overflow-x-auto">
            <table class="min-w-full bg-white border border-gray-200">
                <thead>
                    <tr class="bg-gray-100">
                        <th class="px-6 py-3 border-b text-left">Nombre</th>
                        <th class="px-6 py-3 border-b text-left">Tipo</th>
                        <th class="px-6 py-3 border-b text-left">Presupuesto</th>
                        <th class="px-6 py-3 border-b text-left">Fecha Inicio</th>
                        <th class="px-6 py-3 border-b text-left">Fecha Fin</th>
                        <th class="px-6 py-3 border-b text-left">Estado</th>
                        <th class="px-6 py-3 border-b text-left">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    {% for campania in campanias_instagram %}
                    <tr class="hover:bg-gray-50">
                        <td class="px-6 py-4 border-b">{{ campania.nombre }}</td>
                        <td class="px-6 py-4 border-b">{{ campania.tipo_campana }}</td>
                        <td class="px-6 py-4 border-b">${{ campania.presupuesto_diario }}</td>
                        <td class="px-6 py-4 border-b">{{ campania.fecha_inicio|date:"d/m/Y" }}</td>
                        <td class="px-6 py-4 border-b">{{ campania.fecha_fin|date:"d/m/Y" }}</td>
                        <td class="px-6 py-4 border-b">
                            <span class="px-2 py-1 rounded text-sm
                                {% if campania.estado == 'ACTIVA' %}bg-green-100 text-green-800
                                {% elif campania.estado == 'PAUSADA' %}bg-yellow-100 text-yellow-800
                                {% else %}bg-red-100 text-red-800{% endif %}">
                                {{ campania.estado }}
                            </span>
                        </td>
                        <td class="px-6 py-4 border-b">
                            <a href="{% url 'campannias:editar_campana_instagram' campania.id %}" class="text-blue-600 hover:text-blue-800 mr-3">Editar</a>
                            <a href="{% url 'campannias:eliminar_campana_instagram' campania.id %}" class="text-red-600 hover:text-red-800" onclick="return confirm('¿Estás seguro de eliminar esta campaña?')">Eliminar</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        <div class="text-center py-8 bg-gray-50 rounded-lg">
            <p class="text-gray-600">No hay campañas de Instagram creadas.</p>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %} 